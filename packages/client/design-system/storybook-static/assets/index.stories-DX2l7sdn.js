import{j as e}from"./jsx-runtime-D_zvdyIk.js";import{r as a}from"./index-DwQS_Y10.js";import{a as $,u as U}from"./useMergeRefs-BEMI1pRo.js";import{a as T}from"./utils-CkYB-R1u.js";const x=(r,t)=>{const n=a.useContext(t);if(n===null){const i=new Error(`<${r} /> is missing a parent component that provides a ${t.displayName||"specified"} context.`);throw Error.captureStackTrace&&Error.captureStackTrace(i,x),i}return n},w=(r,t)=>{const n=a.useContext(t);if(n===null){const i=new Error(`<${r} /> is missing a parent component that provides a ${t.displayName||"specified"} context.`);throw Error.captureStackTrace&&Error.captureStackTrace(i,w),i}return n},N=({item:r,className:t,children:n,ref:i,...c})=>{const o=w("Select.Option",E),u=x("Select.Option",S),s=Array.isArray(u.selectedValue)?u.selectedValue.includes(r):u.selectedValue===r;return e.jsx("li",{ref:i,className:T("relative flex cursor-pointer select-none items-center px-4 py-2.5 text-sm transition-colors hover:bg-gray-10 active:bg-gray-20","data-[selected=true]:bg-gray-10 data-[selected=true]:text-gray-90 data-[selected=true]:font-medium",t),"data-selected":s,onClick:()=>{o.handleSelectValue(r)},...c,children:n})};N.__docgenInfo={description:"",methods:[],displayName:"SelectOption",props:{item:{required:!0,tsType:{name:"string"},description:""},ref:{required:!1,tsType:{name:"ReactRef",raw:"React.Ref<HTMLLIElement>",elements:[{name:"HTMLLIElement"}]},description:""}},composes:["HTMLAttributes"]};const q=({children:r,label:t,className:n,ref:i,...c})=>x("Select.Options",S).open?e.jsxs("ul",{ref:i,className:T("absolute z-50 mt-1 max-h-60 w-full overflow-auto rounded-lg border border-gray-10 bg-white py-1 shadow-lg",n),...c,children:[t&&e.jsx("div",{className:"px-2 py-1.5 text-xs font-semibold text-gray-50",children:t}),r]}):null;q.__docgenInfo={description:"",methods:[],displayName:"SelectOptions",props:{label:{required:!1,tsType:{name:"string"},description:""},ref:{required:!1,tsType:{name:"ReactRef",raw:"React.Ref<HTMLUListElement>",elements:[{name:"HTMLUListElement"}]},description:""}},composes:["HTMLProps"]};const H=({value:r,onChange:t,placeholder:n,className:i,ref:c,...o})=>{const u=x("Select.SearchInput",S);return a.useEffect(()=>()=>{t==null||t("")},[t]),a.useEffect(()=>{var f;const s=c;return s!=null&&s.current&&((f=s.current)==null||f.focus()),()=>{s!=null&&s.current&&s.current.blur()}},[]),u.open&&e.jsx("input",{ref:c,value:r,placeholder:n,className:i,onChange:s=>{t==null||t(s.target.value.toLowerCase(),s)},...o})};H.__docgenInfo={description:"",methods:[],displayName:"SelectSearchInput",props:{placeholder:{required:!0,tsType:{name:"string"},description:""},onChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(value: string, e?: React.ChangeEvent<HTMLInputElement>) => void",signature:{arguments:[{type:{name:"string"},name:"value"},{type:{name:"ReactChangeEvent",raw:"React.ChangeEvent<HTMLInputElement>",elements:[{name:"HTMLInputElement"}]},name:"e"}],return:{name:"void"}}},description:""},ref:{required:!1,tsType:{name:"ReactRef",raw:"React.Ref<HTMLInputElement>",elements:[{name:"HTMLInputElement"}]},description:""}},composes:["Omit"]};const I=({children:r,className:t,ref:n,...i})=>{const c=w("Select.Trigger",E),o=x("Select.Trigger",S),u=a.useCallback(()=>{c.setOpen(f=>!f)},[c.setOpen]),s=o.selectedValue===void 0||o.selectedValue===null||Array.isArray(o.selectedValue)&&o.selectedValue.length===0;return e.jsxs("button",{ref:n,onClick:u,type:"button","data-state":o.open?"open":"closed",className:T("flex h-12 w-full items-center justify-between rounded-lg border border-gray-30 bg-gray-10 px-4 py-2 text-sm transition-colors hover:border-gray-40 focus:outline-none focus:ring-1 focus:ring-gray-50 disabled:cursor-not-allowed disabled:opacity-50","data-[state=open]:border-gray-50 data-[state=open]:ring-1 data-[state=open]:ring-gray-50",s?"text-gray-50":"text-gray-90",t),...i,children:[e.jsx("span",{className:"truncate",children:r}),e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:T("ml-2 h-5 w-5 shrink-0 transition-transform duration-200",{"rotate-180":o.open}),children:e.jsx("path",{d:"M5 7.5L10 12.5L15 7.5",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})]})};I.__docgenInfo={description:"",methods:[],displayName:"SelectTrigger",props:{ref:{required:!1,tsType:{name:"ReactRef",raw:"React.Ref<HTMLButtonElement>",elements:[{name:"HTMLButtonElement"}]},description:""}},composes:["ButtonHTMLAttributes"]};const E=a.createContext(null);E.displayName="SelectActionsContext";const S=a.createContext(null);S.displayName="SelectDataContext";const C=({defaultValue:r,value:t,onChange:n,children:i,multiple:c=!1,onBlur:o,name:u,ref:s})=>{const f=a.useRef(null),V=$(s,f),d=a.useRef(o),[v,h]=a.useState(!1),A=t===void 0&&n?null:t,[m=c?[]:void 0,j]=U(A,n,r);a.useEffect(()=>{d.current=o},[o]);const L=a.useCallback(p=>{var R;let y;const g=m==null?void 0:m.includes(p);c&&m instanceof Array?y=g?m.filter(P=>P!==p):[...m,p]:y=g?null:p,j(y),c||(h(!1),(R=d.current)==null||R.call(d))},[c,m,j]);a.useEffect(()=>{const p=y=>{var g;f.current&&!f.current.contains(y.target)&&(h(!1),(g=d.current)==null||g.call(d))};return document.addEventListener("mousedown",p),()=>{document.removeEventListener("mousedown",p)}},[]),a.useEffect(()=>{const p=y=>{var g;y.key==="Escape"&&v&&(h(!1),(g=d.current)==null||g.call(d))};return document.addEventListener("keydown",p),()=>document.removeEventListener("keydown",p)},[v]);const _=a.useMemo(()=>({setOpen:h,handleSelectValue:L}),[L]),D=a.useMemo(()=>({open:v,selectedValue:m}),[v,m]);return e.jsx(E.Provider,{value:_,children:e.jsx(S.Provider,{value:D,children:e.jsx("div",{ref:V,"data-name":u,style:{position:"relative"},children:i})})})},l=Object.assign(C,{Trigger:I,SearchInput:H,Options:q,Option:N});C.__docgenInfo={description:"",methods:[],displayName:"SelectRoot",props:{defaultValue:{required:!1,tsType:{name:"union",raw:"string | string[] | undefined | null",elements:[{name:"string"},{name:"Array",elements:[{name:"string"}],raw:"string[]"},{name:"undefined"},{name:"null"}]},description:""},value:{required:!1,tsType:{name:"union",raw:"string | string[] | undefined | null",elements:[{name:"string"},{name:"Array",elements:[{name:"string"}],raw:"string[]"},{name:"undefined"},{name:"null"}]},description:""},multiple:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},children:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},className:{required:!1,tsType:{name:"string"},description:""},onBlur:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},name:{required:!1,tsType:{name:"string"},description:""},ref:{required:!1,tsType:{name:"ReactRef",raw:"React.Ref<HTMLDivElement>",elements:[{name:"HTMLDivElement"}]},description:""}}};const J={component:l},O={render:()=>(()=>{const[r,t]=a.useState();return e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1em"},children:[e.jsxs("div",{children:["제어 컴포넌트입니다.",e.jsxs(l,{value:r,onChange:n=>{t(n)},children:[e.jsx(l.Trigger,{children:"Trigger"}),e.jsxs(l.Options,{children:[e.jsx(l.Option,{item:"1",children:"Option 1"}),e.jsx(l.Option,{item:"2",children:"Option 2"}),e.jsx(l.Option,{item:"3",children:"Option 3"})]})]})]}),e.jsxs("div",{children:["비제어 컴포넌트입니다.",e.jsxs(l,{defaultValue:"1",children:[e.jsx(l.Trigger,{children:"Trigger"}),e.jsxs(l.Options,{children:[e.jsx(l.Option,{item:"1",children:"Option 1"}),e.jsx(l.Option,{item:"2",children:"Option 2"}),e.jsx(l.Option,{item:"3",children:"Option 3"})]})]})]})]})})()};var b,M,k;O.parameters={...O.parameters,docs:{...(b=O.parameters)==null?void 0:b.docs,source:{originalSource:`{
  render: () => (() => {
    const [selected, setSelected] = useState<string | string[] | undefined | null>();
    return <div style={{
      display: 'flex',
      flexDirection: 'column',
      gap: '1em'
    }}>
          <div>
            제어 컴포넌트입니다.
            <Select value={selected} onChange={value => {
          setSelected(value);
        }}>
              <Select.Trigger>Trigger</Select.Trigger>
              <Select.Options>
                <Select.Option item="1">Option 1</Select.Option>
                <Select.Option item="2">Option 2</Select.Option>
                <Select.Option item="3">Option 3</Select.Option>
              </Select.Options>
            </Select>
          </div>

          <div>
            비제어 컴포넌트입니다.
            <Select defaultValue={'1'}>
              <Select.Trigger>Trigger</Select.Trigger>
              <Select.Options>
                <Select.Option item="1">Option 1</Select.Option>
                <Select.Option item="2">Option 2</Select.Option>
                <Select.Option item="3">Option 3</Select.Option>
              </Select.Options>
            </Select>
          </div>
        </div>;
  })()
}`,...(k=(M=O.parameters)==null?void 0:M.docs)==null?void 0:k.source}}};const K=["Primary"];export{O as Primary,K as __namedExportsOrder,J as default};
